{"ast":null,"code":"var _jsxFileName = \"/Users/andrej/Desktop/Employee/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { Header } from './components/layout/Header';\nimport { Form } from './components/employees/Form';\nimport { Employees } from './components/employees/Employees';\nimport { Alert } from './components/employees/Alert';\nimport { AlertState } from './context/alert/AlertState';\nimport { SignUp } from './pages/SignUp';\nimport { SignIn } from './pages/SignIn';\nimport { Start } from './components/layout/Start';\nimport Context from './context/context';\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport './css/Custom.css';\nimport AuthContext from './context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isAuthentication, setIsAuthentication] = useState(false);\n  const [data, setData] = useState([]);\n  const token = JSON.parse(localStorage.getItem('UserInfo')).token;\n  useEffect(() => {\n    if (localStorage.getItem('UserInfo')) {\n      setIsAuthentication(true);\n    }\n\n    fetch('http://localhost:8000/api/employees/', {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': `Token ${token}`\n      }\n    }).then(response => {\n      response.json();\n    }).then(dataFetched => {\n      console.log(dataFetched);\n    });\n  }, []);\n\n  const updateData = value => {\n    setData([...data, value]);\n  };\n\n  const updateIsAuthentication = isAuth => {\n    setIsAuthentication(isAuth);\n  };\n\n  const removeEmployee = id => {\n    setData(data.filter(emp => emp.id !== id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: isAuthentication,\n    children: /*#__PURE__*/_jsxDEV(Context.Provider, {\n      value: {\n        removeEmployee\n      },\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: /*#__PURE__*/_jsxDEV(AlertState, {\n          children: /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              exact: true,\n              children: isAuthentication ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Header, {\n                  updateIsAuthentication: updateIsAuthentication\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Form, {\n                  updateData: updateData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Employees, {\n                  data: data\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Start, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/signup\",\n              exact: true,\n              children: [/*#__PURE__*/_jsxDEV(Header, {\n                updateIsAuthentication: updateIsAuthentication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              exact: true,\n              children: [/*#__PURE__*/_jsxDEV(Header, {\n                updateIsAuthentication: updateIsAuthentication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Alert, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(SignIn, {\n                updateIsAuthentication: updateIsAuthentication\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"TigtCMnUoCGGbBpKCYdihmfDDOY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/andrej/Desktop/Employee/client/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","Header","Form","Employees","Alert","AlertState","SignUp","SignIn","Start","Context","AuthContext","App","isAuthentication","setIsAuthentication","data","setData","token","JSON","parse","localStorage","getItem","fetch","method","headers","then","response","json","dataFetched","console","log","updateData","value","updateIsAuthentication","isAuth","removeEmployee","id","filter","emp"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport {Header} from './components/layout/Header'\nimport {Form} from './components/employees/Form'\nimport {Employees} from './components/employees/Employees'\nimport {Alert} from './components/employees/Alert'\nimport { AlertState } from './context/alert/AlertState'\nimport {SignUp} from './pages/SignUp'\nimport {SignIn}from './pages/SignIn'\nimport {Start} from './components/layout/Start'\nimport Context from './context/context'\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\nimport './css/Custom.css'\nimport AuthContext from './context/AuthContext';\n\nfunction App() {\n  const [isAuthentication, setIsAuthentication] = useState(false)\n  const [data, setData] = useState([])\n\n  const token = JSON.parse(localStorage.getItem('UserInfo')).token\n\n\n  useEffect(()=> {\n    if (localStorage.getItem('UserInfo')) {\n        setIsAuthentication(true)\n    }\n      fetch(\n      'http://localhost:8000/api/employees/',\n        {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept' : 'application/json',\n                'Authorization' : `Token ${token}`\n            }\n        }\n    )\n    .then(response => {response.json()})\n    .then(dataFetched => {console.log(dataFetched)})\n\n  }, [])\n\n\n  const updateData = (value) => {\n    setData([...data, value])\n  }\n\n  const updateIsAuthentication = (isAuth) => {\n    setIsAuthentication(isAuth)\n  }\n\n  const removeEmployee = (id) => {\n    setData(data.filter(emp => emp.id !== id))\n\n  }\n\n\n  return (\n    <AuthContext.Provider value={isAuthentication}> \n    <Context.Provider value={{removeEmployee}}>\n      <Router>\n        <AlertState>\n        \n          <Switch>\n            <Route path=\"/\" exact>\n              { isAuthentication ?\n              <> \n                <Header updateIsAuthentication={updateIsAuthentication}/>\n                <Alert/>\n                <Form updateData={updateData}/>\n                <Employees data={data}/>\n              </> :\n              <>\n                <Start/>\n              </>\n              }\n            </Route>\n            <Route path=\"/signup\" exact>\n              <Header updateIsAuthentication={updateIsAuthentication}/>\n              <Alert/>\n              <SignUp/>\n            </Route>\n            <Route path=\"/login\" exact>\n              <Header updateIsAuthentication={updateIsAuthentication}/>\n              <Alert/>\n              <SignIn updateIsAuthentication={updateIsAuthentication} />\n            </Route>\n          </Switch>\n        </AlertState>\n      </Router>\n    </Context.Provider>\n    </AuthContext.Provider> \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}